"use strict";(self["webpackChunkvue_rea"]=self["webpackChunkvue_rea"]||[]).push([[10],{2010:function(e,t,l){l.r(t),l.d(t,{default:function(){return v}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"LikesSorted"},[e._l(e.Obj,(function(l,i){return t("UserList",{key:i,attrs:{Obj:l,isDeleteMode:e.isDeleteMode},on:{deleteFeed:function(t){return e.confirmDelete(l)}}})})),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加RSS源")]),t("el-dialog",{attrs:{title:"新增RSS源",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{attrs:{model:e.myform}},[t("el-form-item",{attrs:{label:"name"}},[t("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.myform.myvalue1,callback:function(t){e.$set(e.myform,"myvalue1",t)},expression:"myform.myvalue1"}})],1),t("el-form-item",{attrs:{label:"feed"}},[t("el-input",{attrs:{placeholder:"请输入种子"},model:{value:e.myform.value2,callback:function(t){e.$set(e.myform,"value2",t)},expression:"myform.value2"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确定")])],1)],1),t("el-button",{attrs:{type:"danger"},on:{click:e.toggleDeleteMode}},[e._v(" "+e._s(e.isDeleteMode?"退出删除模式":"删除RSS源")+" ")]),t("el-dialog",{attrs:{title:"确认删除",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[t("span",[e._v("确定要删除这个RSS源吗？")]),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"danger"},on:{click:e.handleDelete}},[e._v("确认")])],1)])],2)},s=[],o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"UserList",on:{click:e.handleClick}},[t("div",{staticClass:"box",class:{"delete-mode":e.isDeleteMode}},[t("div",{staticClass:"box1"},[t("div",{staticClass:"name"},[e._v(e._s(e.name))])]),t("div",{staticClass:"box2"},[t("div",{staticClass:"url"},[e._v(e._s(e.url))])])])])},a=[],r={name:"UserList",props:{Obj:Object,isDeleteMode:Boolean},data(){return{name:this.Obj.name,url:this.Obj.url,id:this.Obj.id}},created(){},methods:{handleClick(){this.isDeleteMode&&this.$emit("deleteFeed",this.Obj)}}},n=r,d=l(1656),c=(0,d.A)(n,o,a,!1,null,"ecc0519c",null),m=c.exports,u=l(4373),h={name:"LikesSortedView",components:{UserList:m},data(){return{dialogVisible:!1,deleteDialogVisible:!1,isDeleteMode:!1,selectedItem:null,myform:{myvalue1:"",value2:""},Obj:[]}},methods:{getList(){let e=[],t={};u.A.get("http://localhost:8087/getAllRss").then((l=>{e=l.data;for(let i=0;i<e.length;i++)t[i]=e[i];console.log(t),this.Obj=t})).catch((e=>{this.$message({message:"获取页面内容失败！",type:"error",duration:2e3}),console.log("获取排行出错！"),console.error(e)}))},async handleSubmit(){try{const e=this.myform.myvalue1,t=this.myform.value2,l=encodeURIComponent(e),i=encodeURIComponent(t);await u.A.post(`http://localhost:8087/insertFeed?name=${l}&url=${i}`),this.dialogVisible=!1,this.myform.myvalue1="",this.myform.value2="",this.getList()}catch(e){console.error("提交失败",e)}},toggleDeleteMode(){this.isDeleteMode=!this.isDeleteMode},confirmDelete(e){this.selectedItem=e,this.deleteDialogVisible=!0},async handleDelete(){try{await u.A.post(`http://localhost:8087/deleteFeed?id=${this.selectedItem.id}`),this.getList(),this.deleteDialogVisible=!1,this.isDeleteMode=!1}catch(e){console.error("删除失败",e)}}},created(){this.getList()}},b=h,f=(0,d.A)(b,i,s,!1,null,"a8448626",null),v=f.exports}}]);
//# sourceMappingURL=10.2971c3d8.js.map